<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="krishna_report">
        <t t-set="m" t-value="0"/>
        <t t-foreach="range(4)" t-as="k">
            <t t-set="m" t-value="m+1"/>
            <t t-call="web.html_container">
                <t t-call="web.basic_layout">
                    <t t-foreach="docs" t-as="o">
                        <div class="paper">
                            <t t-call="dc_report.sale_invoice_header"/>
                            <table class="table table-sm o_main_table table-border"
                                   style="table-layout:fixed; width:100%; border-collapse:collapse;border:1px solid black;">
                                <tr>
                                    <th colspan="16" style="border-right:1px solid black;">[Invoice
                                        as per section 31 read with rule
                                        46 of GST rule]
                                    </th>
                                </tr>
                                <tr>
                                    <td colspan="16" style="font-size:12px; border-right:1px solid black;">
                                        <group>
                                            <group style="float:left; width:60%;">
                                                <span>Invoice No :</span>
                                                <t t-esc="o.name"/>
                                                <br/>
                                                <span>Cust's P.O No :</span>
                                                <t t-esc="o.customer_rek_num"/>
                                            </group>
                                            <group style="float:right;text-align:left;">
                                                <span>Dated :</span>
                                                <t t-esc="o.invoice_date"/>
                                                <br/>
                                                <span>Dated :</span>
                                                <t t-esc="o.customer_rek_date"/>
                                            </group>
                                        </group>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="16" style="font-size:12px;border-right:1px solid black;">
                                        <group>
                                            <span>Challan/DC No :</span>
                                            <span t-esc="o.delivery_no"/>
                                        </group>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="12" style="border-right:1px solid black;">
                                        <group style="font-size:12px;">
                                            <group style="float:left width:60%">
                                                <div style="float:left; width:50%">
                                                    <span>E-Way Bill No/Dt :</span>
                                                    <t t-esc="o.eway_bill_no"/>,
                                                    <t t-esc="o.eway_date"/>
                                                    <br/>
                                                    <span>Vehicle No. :</span>
                                                    <t t-esc="o.veh_no"/>
                                                    <br/>
                                                    <span>Transporter :</span>
                                                    <t t-esc="o.trans_id"/>
                                                    <br/>
                                                    <span>Transporter GSTIN No :</span>
                                                    <t t-esc="o.trans_gstin_no"/>
                                                    <br/>
                                                    <span>Payment Terms :</span>
                                                    <t t-esc="o.pay_terms"/>
                                                    <br/>
                                                    <span>Date/Time of Preparation :</span>
                                                    <t t-esc="o.time_preparation"/>
                                                    <br/>
                                                    <span>Date/Time of Removal of goods :</span>
                                                    <t t-esc="o.time_removal"/>
                                                </div>
                                                <div style="float:right;">
                                                    <span>LR / RR No. :</span>
                                                    <t t-esc="o.llr_no"/>
                                                    <br/>
                                                    <span>Place of Supply :</span>
                                                    <t t-esc="o.l10n_in_state_id.name"/>
                                                </div>
                                            </group>
                                        </group>
                                    </td>
                                    <td colspan="4" rowspan="2" style="border-right:1px solid black;">
                                        <img t-if="o.qr_image"
                                             t-att-src="image_data_uri(o.qr_image)"
                                             style="height:50%; width:95%;"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="12"
                                        style="font-size:12px; vertical-align:top;border-right:1px solid black;">
                                        <group>
                                            <span>Ack No/Dt:<t t-esc="o.ack_no"/>/
                                                <t t-esc="o.ackdt_no"/>
                                            </span>
                                        </group>
                                        <br/>
                                        <group>
                                            <span>IRN No:
                                                <t t-esc="o.irn_no"/>
                                            </span>
                                        </group>
                                    </td>
                                </tr>
                                <tr colsapn="16" style="font-size:12px;">
                                    <td colspan="8" style="border-right:1px solid black;">
                                        <span>Transport Mode :</span>
                                        <t t-if="o.transMode and o.transMode in dict(o.fields_get(allfields=['transMode'])['transMode']['selection'])">
                                            <t t-esc="dict(o.fields_get(allfields=['transMode'])['transMode']['selection'])[o.transMode]"/>
                                        </t>
                                    </td>
                                    <td colspan="8" style="border-right:1px solid black;">
                                        <span>Distance :</span>
                                        <t t-esc="o.distance"/>
                                    </td>
                                </tr>
                                <tr style="font-size:12px; border:none;">
                                    <td colspan="8" style="border-bottom:none;border-right:1px solid black;">
                                        Details of Consignee(SHIPPED to)
                                    </td>
                                    <td colspan="8" style="border-bottom:none;border-right:1px solid black;">
                                        A/C (Receipent)
                                    </td>
                                </tr>
                                <tr style="border:none;">
                                    <td colspan="8" height="116px"
                                        style="padding-left:10px; border-top:none;border-right:1px solid black;">
                                        <group style="font-size:12px;">
                                            <span t-esc="o.consignee_name.name"/>
                                            <br/>
                                            <span t-esc="o.consignee_name.street"/>,<span
                                                t-esc="o.consignee_name.street2"/>,
                                            <span t-esc="o.consignee_name.city"/>
                                            <br/>
                                            <span>GSTIN/UIN :
                                            </span>
                                            <t t-esc="o.consignee_name.vat"/>
                                            <br/>
                                            <span>PAN No :</span>
                                            <t t-esc="o.consignee_name.pan_no"/>
                                            <br/>
                                            <span>State code / Name
                                                :
                                            </span>
                                            <t t-esc="o.consignee_name.zip"/>
                                            <t t-esc="o.consignee_name.state_id.name"/>
                                        </group>
                                    </td>
                                    <td colspan="8"
                                        style="padding-left:10px; border-top:none;border-right:1px solid black;">
                                        <group style="font-size:12px;">
                                            <span t-esc="o.partner_id.name"/>
                                            <br/>
                                            <span t-esc="o.partner_id.street"/>,<span
                                                t-esc="o.partner_id.street2"/>,
                                            <span t-esc="o.partner_id.city"/>
                                            <br/>
                                            <span>GSTIN/UIN :
                                            </span>
                                            <t t-if="o.partner_id.vat" t-esc="o.partner_id.vat"/>
                                            <br/>
                                            <span>PAN No :</span>
                                            <t t-if="o.partner_id.pan_no" t-esc="o.partner_id.pan_no"/>
                                            <br/>
                                            <span>State code / Name
                                                :
                                            </span>
                                            <t t-if="o.partner_id.zip" t-esc="o.partner_id.zip"/>,
                                            <t t-if="o.partner_id.state_id.name"
                                               t-esc="o.partner_id.state_id.name"/>
                                        </group>
                                    </td>
                                </tr>
                                <tbody style="font-size:12px; height:20px;">
                                    <th colspan="1" style="border-right:1px solid black;">Sl No</th>
                                    <th colspan="2" style="border-right:1px solid black;">Part No.</th>
                                    <th colspan="4" style="border-right:1px solid black;">Description of Goods /
                                        Service
                                    </th>
                                    <th colspan="3" style="border-right:1px solid black;">HSN/SAC Code</th>
                                    <th colspan="2" style="border-right:1px solid black;">Qty Unit</th>
                                    <th colspan="2">Rate(INR)</th>
                                    <th colspan="2" style="border-right:1px solid black;">Amount(INR)</th>
                                </tbody>
                                <tbody>
                                    <t t-set="i" t-value="1"/>
                                    <t t-foreach="o.invoice_line_ids[:3]" t-as="lines">
                                        <tr style="border:none; height:75px;font-size:12px; text-align:center;">
                                            <td colspan="1"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <span t-esc="i"/>
                                                <t t-set="i" t-value="i+1"/>
                                            </td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <t t-esc="lines.product_id.default_code"/>
                                            </td>
                                            <td colspan="4"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <t t-esc="lines.product_id.name"/>
                                            </td>
                                            <td colspan="3"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <t t-esc="lines.product_id.l10n_in_hsn_code"/>
                                            </td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <t t-esc="lines.quantity"/>
                                            </td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;">
                                                <t t-esc="lines.price_unit"/>
                                            </td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;">
                                                <t t-esc="lines.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </t>
                                    <t t-set="remaining_rows" t-value="3 - len(o.invoice_line_ids[:3])"/>
                                    <t t-foreach="range(remaining_rows)" t-as="i">
                                        <tr style=" border: none;height:75px; font-size:12px;">
                                            <td colspan="1"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="4"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="3"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                            <td colspan="2"
                                                style="border-top:none;border-bottom:none;border-right:1px solid black;"></td>
                                        </tr>
                                    </t>
                                </tbody>
                                <tr>
                                    <td colspan="10"
                                        style="text-align:right; font-size:12px;border-right:1px solid black;">
                                        <group>
                                            <group style="float: left; width:50%; text-align:left;">
                                                <span>Insurance No:</span>
                                                <t t-esc="o.insurance_no"/>
                                            </group>
                                            <group>
                                                Total
                                            </group>
                                        </group>
                                    </td>
                                    <td colspan="4" style="font-size:12px;">
                                        <t t-esc="o.done_qty"/>
                                    </td>
                                    <td colspan="2" style="font-size:12px;border-right:1px solid black;">
                                        <t t-esc="o.amount_untaxed"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="10" style="height:50px;font-size:12px;border-right:1px solid black;">
                                        <group>
                                            <group style="float:left; text-align:left; width:50%;">
                                                <strong>IC No. :</strong>
                                                <t t-esc="o.ic_no"/>
                                                <br/>
                                                <strong>Serial No. :</strong>
                                                <t t-esc="o.serial_no"/>
                                            </group>
                                            <group>
                                                <strong>Date :</strong>
                                                <t t-esc="o.ic_date"/>
                                            </group>
                                        </group>
                                    </td>
                                    <td colspan="4" style="font-size:12px;">
                                        <group>
                                            <b>Subtotal</b>
                                        </group>
                                    </td>
                                    <td colspan="2" style="font-size:12px;border-right:1px solid black;">
                                        <t t-esc="o.amount_untaxed"/>
                                    </td>
                                </tr>
                                <tr style="height:40px;">
                                    <td colspan="10" style="font-size:12px;height:44px; border-right:1px solid black;">
                                        <group>
                                            Tax In Words :
                                            <span>
                                                <t t-esc="o.number_to_words_tax"/>
                                            </span>
                                        </group>
                                    </td>
                                    <td colspan="4" style="font-size:9px;">
                                        <span t-esc="o.tax"/>
                                    </td>
                                    <td colspan="2" style="font-size:12px;border-right:1px solid black;">
                                        <t t-esc="o.amount_tax"/>
                                    </td>
                                </tr>
                                <tr style="height:40px;">
                                    <td colspan="10" style="font-size:12px;border-right:1px solid black;">
                                        <group>
                                            Invoice Amount in Words :
                                            <span>
                                                <t t-esc="o.number_to_words_amount_total"/>
                                            </span>
                                        </group>
                                    </td>
                                    <td colspan="4" style="font-size:12px;">Grand Total</td>
                                    <td colspan="2" style="font-size:12px;border-right:1px solid black;">
                                        <t t-esc="o.amount_total"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="16" style="font-size:12px; height:70px; border-right:1px solid black;">
                                        <group>
                                            Declaration :
                                            <group style="padding-left:10px;">
                                                <br/>
                                                1.Certified that the particulars given above are true and
                                                correct and
                                                the amount indicated prepresents the value actually
                                                charged and that there is no flow of additional consideration
                                                directly
                                                or indirectly from the service receiver
                                                <br/>
                                                <br/>
                                                2.Dispute, if any is subjected to Bangalore Jurisdiction Only.
                                                <br/>
                                                <br/>
                                                3.Whether tax is payable on Reverse charge : NO
                                            </group>
                                        </group>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="16" style="font-size:12px;border-right:1px solid black;">
                                        <group>
                                            <span>Delivery Terms :</span>
                                            <span t-esc="o.invoice_incoterm_id.name"/>
                                        </group>
                                    </td>
                                </tr>
                                <t t-set="remaining_products" t-value="o.invoice_line_ids[3:]"/>
                                <t t-if="remaining_products">
                                    <div class="page-break"></div>
                                    <table class="table table-bordered"
                                           style="width:100%;border: 1px solid black; border-collapse:collapse;">
                                        <thead>
                                            <tr style="border:1px solid black; font-size:12px;">
                                                <th width="5%" style="height:32px;">Sl No</th>
                                                <th width="10%" style="height:32px;">Part No.</th>
                                                <th width="50%" style="height:32px;">Description of
                                                    Goods
                                                    /
                                                    Service
                                                </th>
                                                <th width="10%" style="height:32px;">HSN/SAC Code
                                                </th>
                                                <th width="5%" style="height:32px;">Qty Unit</th>
                                                <th width="10%" style="height:32px;">Rate(INR)</th>
                                                <th width="10%" style="height:32px;">Amount(INR)</th>
                                            </tr>
                                        </thead>
                                        <tbody style="border-collapse:collapse;">
                                            <t t-foreach="o.invoice_line_ids[3:]" t-as="lines">
                                                <tr style=" border:none; height:86px; font-size:12px; text-align:center;">
                                                    <td width="5%"
                                                        style="border-top:none;border-bottom:none;">
                                                        <span t-esc="i"/>
                                                        <t t-set="i" t-value="i+1"/>
                                                    </td>
                                                    <td width="10%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.product_id.default_code"/>
                                                    </td>
                                                    <td width="50%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.product_id.name"/>
                                                    </td>
                                                    <td width="10%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.product_id.l10n_in_hsn_code"/>
                                                    </td>
                                                    <td width="5%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.quantity"/>
                                                    </td>
                                                    <td width="10%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.price_unit"/>
                                                    </td>
                                                    <td width="10%" style="border-top:none;border-bottom:none;">
                                                        <t t-esc="lines.price_subtotal"/>
                                                    </td>
                                                </tr>
                                            </t>
                                            <t t-set="remaining_rows" t-value="11 - len(o.invoice_line_ids[3:])"/>
                                            <t t-foreach="range(remaining_rows)" t-as="i">
                                                <tr style="border:none;height:86px;">
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                    <td style="border-top:none;border-bottom:none;"></td>
                                                </tr>
                                            </t>

                                        </tbody>
                                    </table>
                                </t>
                            </table>
                            <div class="footer">
                                <t t-call="dc_report.footer"/>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </t>
    </template>
</odoo>